<!DOCTYPE html>
<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script type="text/javascript">
    function handleClick(event) {
      var req_body = {
        "organization_name" : document.getElementById("organization_name").value,
        "locations" : [ document.getElementById("location-1").value ],
        "bill_day" : parseInt(document.getElementById("bill_day").value, 10),
        "member_price" : parseFloat(document.getElementById("member_price").value),
        "organization_type" : "Gym"
      }
      if (document.getElementById("location-2").value !== "") {
          req_body["locations"].push(document.getElementById("location-2").value)
      }
      if (document.getElementById("location-3").value !== "") {
          req_body["locations"].push(document.getElementById("location-3").value)
      }
      if (document.getElementById("location-4").value !== "") {
          req_body["locations"].push(document.getElementById("location-4").value)
      }
      if (document.getElementById("location-5").value !== "") {
          req_body["locations"].push(document.getElementById("location-5").value)
      }
      var xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange = function() {
        if (this.readyState == 4) {
          alert(this.responseText);
        }
      };
      xhttp.open("POST", "http://18.222.127.1:80/api/add-organization", false);
      xhttp.send(JSON.stringify(req_body));
    };
</script>
</head>
<body>

<h2>Add Organization</h2>
This adds an organization.  Adding an organization requires the name of the
organization for human readability.  The bill day is the day of month that a
bill is generated.  If the bill day is 29, 30, or 31 in a month that has fewer
than that many days, the billing cycle will happen on the last day of the month.
The member price is how much we charge the gym per member, not the membership
price at the gym.  So if this organization gives us $2.50 per member, the Member
Price should be 2.50.  Finally, at least one location must be added to this
organization.  There again is no limit to the number, but I didn't go through
the effort to make it limitless in this simple HTML front end.
<br>
<br>

<form onSubmit="JavaScript:handleClick()">
  Organization Name:<br>
  <input type="text" id="organization_name" value="">
  <br>
  Bill Day (1 to 31):<br>
  <input type="number" id="bill_day" value="">
  <br>
  Member Price: <br>
  <input type="number" step="0.01" id="member_price" value="">
  <br>
  ZIP Code 1:<br>
  <input type="text" id="location-1" value="">
  <br>
  ZIP Code 2 (Optional):<br>
  <input type="text" id="location-2" value="">
  <br>
  ZIP Code 3 (Optional):<br>
  <input type="text" id="location-3" value="">
  <br>
  ZIP Code 4 (Optional):<br>
  <input type="text" id="location-4" value="">
  <br>
  ZIP Code 5 (Optional):<br>
  <input type="text" id="location-5" value="">
  <br>
  <input type="submit" value="Submit">
</form>

<p>
<a href="../../index.nginx-debian.html">Home</a><br>
<a href="add-locations.html">Add Locations</a><br>
<a href="add-organization.html">Add Organization</a><br>
<a href="begin-membership.html">Begin Membership</a><br>
<a href="query-phone-number.html">Query Phone Number</a><br>
<a href="remove-locations.html">Remove Locations</a><br>
<a href="terminate-membership.html">Terminate Membership</a><br>
<a href="validate-member.html">Validate Member</a><br>
</p>

</body>
</html>
