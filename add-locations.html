<!DOCTYPE html>
<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script type="text/javascript">
    function handleClick(event) {
      var req_body = {
        "organization_id" : parseInt(document.getElementById("organization_id").value, 10),
        "locations" : [ document.getElementById("location-1").value ]
      }
      if (document.getElementById("location-2").value !== "") {
          req_body["locations"].push(document.getElementById("location-2").value)
      }
      if (document.getElementById("location-3").value !== "") {
          req_body["locations"].push(document.getElementById("location-3").value)
      }
      if (document.getElementById("location-4").value !== "") {
          req_body["locations"].push(document.getElementById("location-4").value)
      }
      if (document.getElementById("location-5").value !== "") {
          req_body["locations"].push(document.getElementById("location-5").value)
      }
      var xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange = function() {
        if (this.readyState == 4) {
          alert(this.responseText);
        }
      };
      xhttp.open("POST", "http://18.222.127.1:80/api/add-locations", false);
      xhttp.send(JSON.stringify(req_body));
    };
</script>
</head>
<body>

<h2>Add Locations</h2>
Add a location to an existing organization.  This requires the ID of the
organization being added to and at least one location.  Note that there isn't
a limit in the backend to how many can be added at once, I just didn't feel like
putting the effort into allowing arbitrarily many locations to be added in the
front end since this is primarily for demonstrative purposes.
<br>
<br>

<form onSubmit="JavaScript:handleClick()">
  Organization ID:<br>
  <input type="number" id="organization_id" value="">
  <br>
  ZIP Code 1:<br>
  <input type="text" id="location-1" value="">
  <br>
  ZIP Code 2 (Optional):<br>
  <input type="text" id="location-2" value="">
  <br>
  ZIP Code 3 (Optional):<br>
  <input type="text" id="location-3" value="">
  <br>
  ZIP Code 4 (Optional):<br>
  <input type="text" id="location-4" value="">
  <br>
  ZIP Code 5 (Optional):<br>
  <input type="text" id="location-5" value="">
  <br>
  <input type="submit" value="Submit">
</form>

<p>
<a href="../../index.nginx-debian.html">Home</a><br>
<a href="add-locations.html">Add Locations</a><br>
<a href="add-organization.html">Add Organization</a><br>
<a href="begin-membership.html">Begin Membership</a><br>
<a href="query-phone-number.html">Query Phone Number</a><br>
<a href="remove-locations.html">Remove Locations</a><br>
<a href="terminate-membership.html">Terminate Membership</a><br>
<a href="validate-member.html">Validate Member</a><br>
</p>

</body>
</html>
